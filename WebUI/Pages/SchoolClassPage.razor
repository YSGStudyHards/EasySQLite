@page "/SchoolClass"
@using WebUI.Model
@inject HttpClient httpClient



<Table TItem="UserInfo"
       Items="@UserInfoList"
       AutoGenerateColumns="true"
       ShowToolbar="true"
       IsMultipleSelect="true"
       OnSaveAsync="@OnSaveAsync"
       IsStriped="true"
       IsBordered="true"
       ShowSearch="true"
       ShowSearchText="true">

    <TableColumns>
        <TableColumn Sortable="true" Filterable="true" Searchable="true" @bind-Field="@context.Id" />
        <TableColumn Sortable="true" Filterable="true" Searchable="true" @bind-Field="@context.Name" />
        <TableColumn Sortable="true" Filterable="true" Searchable="true" @bind-Field="@context.Address" />
    </TableColumns>
    <SearchTemplate>
        <GroupBox Title="搜索条件">
            <div class="row g-3 form-inline">
                <div class="col-12 col-sm-6">
                    <BootstrapInput @bind-Value="@context.Name" PlaceHolder="请输入姓名，50字以内" maxlength="50" ShowLabel="true" DisplayText="@context.Name" />
                </div>
                <div class="col-12 col-sm-6">
                    <BootstrapInput @bind-Value="@context.Address" PlaceHolder="请输入地址，500字以内" maxlength="500" ShowLabel="true" DisplayText="@context.Address" />
                </div>
            </div>
        </GroupBox>
    </SearchTemplate>

</Table>


@code {
    //模拟生成数据
    private static readonly Random random = new Random();
    protected static List<UserInfo> GenerateUserInfos() => new List<UserInfo>(Enumerable.Range(1, 10).Select(i => new UserInfo()
        {
            Id = i,
            Name = $"张三 {i:d4}",
            Address = $"上海市普陀区金沙江路 {random.Next(1000, 2000)} 弄",
            Age = random.Next(20, 50),
            Mobile = "1301234" + random.Next(1000, 9999)
        }));
    protected static IEnumerable<UserInfo> UserInfoList { get; } = GenerateUserInfos();
}